<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Super Sistemas - Listar Usuários</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Carrega o menu
        fetch('../menu.html')
            .then(resp => resp.text())
            .then(html => document.getElementById('menu').innerHTML = html);

        // Carrega o rodapé
        fetch('../rodape.html')
            .then(resp => resp.text())
            .then(html => document.getElementById('rodape').innerHTML = html);

        function editar() {
            const marcados = document.querySelectorAll('input[name="sel[]"]:checked');
            
            if (marcados.length === 0) {
                alert("Selecione um registro para editar.");
                return;
            }
            
            if (marcados.length > 1) {
                alert("Selecione apenas um registro para editar.");
                return;
            }
            
            // só há um selecionado - podemos pegar o valor e prosseguir
            const id = marcados[0].value;
            window.location.href = "usuario_editar.html";
        }

        function excluir() {
            window.location.href = "usuario_excluir.html";
        }
    </script>
</head>
<body class="bg-light min-vh-100 d-flex flex-column">
    <!-- NAVBAR / MENU -->
    <div id="menu"></div>

    <!-- CONTEÚDO PRINCIPAL -->
    <main id="principal" class="container-fluid flex-fill d-flex align-items-start justify-content-center px-4">
        <div class="card shadow p-4 w-100">
            <h2 class="mb-4">Usuários - Listar</h2>
            
            <!-- BARRA DE BOTÕES -->
            <div class="mb-3">
                <button type="button" class="btn btn-primary me-2" onclick="window.location.href='usuario_incluir.html'">
                    Incluir
                </button>
                <button type="button" class="btn btn-primary me-2" onclick="javascript:editar();">
                    Editar
                </button>
                <button type="button" class="btn btn-danger" onclick="javascript:excluir();">
                    Excluir
                </button>
            </div>
            
            <table class="table table-striped table-hover align-middle">
                <thead class="table-primary">
                    <tr>
                        <th scope="col">
                            <!-- checkbox geral (marca/desmarca todos) -->
                            <input type="checkbox" id="checkTodos">
                        </th>
                        <th scope="col">ID</th>
                        <th scope="col">Nome</th>
                        <th scope="col">E-mail</th>
                        <th scope="col">Perfil</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="checkbox" class="user-check" name="sel[]" value="1"></td>
                        <td>1</td>
                        <td>João da Silva</td>
                        <td>joao.silva@example.com</td>
                        <td>Administrador</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="user-check" name="sel[]" value="2"></td>
                        <td>2</td>
                        <td>Maria Oliveira</td>
                        <td>maria.oliveira@example.com</td>
                        <td>Usuário</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="user-check" name="sel[]" value="3"></td>
                        <td>3</td>
                        <td>Carlos Souza</td>
                        <td>carlos.souza@example.com</td>
                        <td>Usuário</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <!-- RODAPÉ -->
    <div id="rodape"></div>
</body>
</html>
